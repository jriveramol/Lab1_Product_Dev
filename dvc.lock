schema: '2.0'
stages:
  load_n_clean:
    cmd: python src/load_n_clean.py data/data.csv data/clean_data.csv params.yaml
    deps:
    - path: data/data.csv
      hash: md5
      md5: 801f8030dad1df22a53edfdbfa4e80f0
      size: 29981
    - path: params.yaml
      hash: md5
      md5: e4ee113b09ca8043dcfab212c6920a4e
      size: 1197
    outs:
    - path: data/clean_data.csv
      hash: md5
      md5: 801f8030dad1df22a53edfdbfa4e80f0
      size: 29981
  preprocess:
    cmd: python src/preprocess.py data/clean_data.csv data/train_data.csv data/test_data.csv
      data/validation_data.csv params.yaml
    deps:
    - path: data/clean_data.csv
      hash: md5
      md5: 801f8030dad1df22a53edfdbfa4e80f0
      size: 29981
    - path: params.yaml
      hash: md5
      md5: e4ee113b09ca8043dcfab212c6920a4e
      size: 1197
    outs:
    - path: data/test_data.csv
      hash: md5
      md5: 912e05faf5bdf4696e477156739912df
      size: 7815
    - path: data/train_data.csv
      hash: md5
      md5: 66dff5caa6447117d285ea3fa978469f
      size: 61306
    - path: data/validation_data.csv
      hash: md5
      md5: 9368517c7a39530046517e16a5e6aaa8
      size: 7959
  evaluate:
    cmd: python src/evaluate.py data/test_data.csv models metrics.json params.yaml
    deps:
    - path: data/test_data.csv
      hash: md5
      md5: 912e05faf5bdf4696e477156739912df
      size: 7815
    - path: models/
      hash: md5
      md5: 039bf64d6f992ad6f171de5d3fbfe9e5.dir
      size: 773388
      nfiles: 4
    - path: params.yaml
      hash: md5
      md5: e4ee113b09ca8043dcfab212c6920a4e
      size: 1197
    outs:
    - path: metrics.json
      hash: md5
      md5: f72e5677bd08506c63d46c237b737c77
      size: 337
  train:
    cmd: python src/train.py data/train_data.csv models params.yaml
    deps:
    - path: data/train_data.csv
      hash: md5
      md5: 66dff5caa6447117d285ea3fa978469f
      size: 61306
    - path: params.yaml
      hash: md5
      md5: e4ee113b09ca8043dcfab212c6920a4e
      size: 1197
    outs:
    - path: models/GradientBoosting.pkl
      hash: md5
      md5: f1745fb3aaa59b7e2b274bb7c38b360f
      size: 197481
    - path: models/LinearRegression.pkl
      hash: md5
      md5: 081bf2f15e943c3a1eabbacd9a33b7cb
      size: 1377
    - path: models/RandomForest.pkl
      hash: md5
      md5: 44e9c13e12bf70a0b9f07489a67cbf19
      size: 574465
